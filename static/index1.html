<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Main Page</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
<h1>Welcome to Admin Panel</h1>
<nav>
    <a href="test.html">TEST</a>
    <a href="list.html">List Admin</a>

    <a href="register_all.html">Register</a>

    <a href="login.html">Login</a>
    <a href="change.html">Change User Role</a>
    <a href="#" id="logoutLink">Logout</a>
</nav>

<script>
    // Логика выхода из системы
    document.getElementById('logoutLink').addEventListener('click', (e) => {
        e.preventDefault(); // Отключаем стандартное действие ссылки
        fetch('/api/auth/logout', {
            method: 'POST',
            credentials: 'include', // Включаем отправку куки
        })
            .then(response => {
                if (response.ok) {
                    alert("Logged out successfully");
                    // Перенаправляем пользователя на страницу входа
                    window.location.href = "/login.html";
                } else {
                    console.error("Logout failed");
                }
            })
            .catch(err => console.error("Error:", err));
    });
</script>
</body>
</html>

